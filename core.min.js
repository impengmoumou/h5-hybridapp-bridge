!(function (e) {
  var o = {};
  function t(n) {
    if (o[n]) return o[n].exports;
    var i = (o[n] = { i: n, l: !1, exports: {} });
    return e[n].call(i.exports, i, i.exports, t), (i.l = !0), i.exports;
  }
  (t.m = e),
    (t.c = o),
    (t.d = function (e, o, n) {
      t.o(e, o) || Object.defineProperty(e, o, { enumerable: !0, get: n });
    }),
    (t.r = function (e) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (t.t = function (e, o) {
      if ((1 & o && (e = t(e)), 8 & o)) return e;
      if (4 & o && "object" == typeof e && e && e.__esModule) return e;
      var n = Object.create(null);
      if (
        (t.r(n),
        Object.defineProperty(n, "default", { enumerable: !0, value: e }),
        2 & o && "string" != typeof e)
      )
        for (var i in e)
          t.d(
            n,
            i,
            function (o) {
              return e[o];
            }.bind(null, i)
          );
      return n;
    }),
    (t.n = function (e) {
      var o =
        e && e.__esModule
          ? function () {
              return e.default;
            }
          : function () {
              return e;
            };
      return t.d(o, "a", o), o;
    }),
    (t.o = function (e, o) {
      return Object.prototype.hasOwnProperty.call(e, o);
    }),
    (t.p = ""),
    t((t.s = 2));
})([
  function (e, o) {
    (e.exports = function (e, o) {
      if (!(e instanceof o))
        throw new TypeError("Cannot call a class as a function");
    }),
      (e.exports.default = e.exports),
      (e.exports.__esModule = !0);
  },
  function (e, o) {
    function t(e, o) {
      for (var t = 0; t < o.length; t++) {
        var n = o[t];
        (n.enumerable = n.enumerable || !1),
          (n.configurable = !0),
          "value" in n && (n.writable = !0),
          Object.defineProperty(e, n.key, n);
      }
    }
    (e.exports = function (e, o, n) {
      return o && t(e.prototype, o), n && t(e, n), e;
    }),
      (e.exports.default = e.exports),
      (e.exports.__esModule = !0);
  },
  function (e, o, t) {
    "use strict";
    t.r(o),
      t.d(o, "H5HybridAppBridge", function () {
        return a;
      });
    var n = t(0),
      i = t.n(n),
      r = t(1),
      l = t.n(r),
      a = (function () {
        function e() {
          var o =
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
          i()(this, e),
            (this.NODE_ENV = o.NODE_ENV),
            (this.webDev = o.webDev),
            (this.isWeb =
              this.webDev &&
              "development" === this.NODE_ENV &&
              "1" === this.getUrlSearchValue("web")),
            (this.showConsole = o.showConsole);
          var t = "1" === this.getUrlSearchValue("debug");
          this.showConsole &&
            (t || "development" === this.NODE_ENV) &&
            new VConsole(),
            (this.reloadUrl = o.reloadUrl || "app://reloadURL"),
            (this.goToURL = o.goToURL || "app://goToURL"),
            (this.backUrl = o.backUrl || "app://back"),
            (this.backToUrl = o.backToUrl || "app://backToUrl"),
            (this.backAppUrl = o.backUrl || "app://backToApp"),
            (this.backHomeUrl = o.backHomeUrl || "app://backHome"),
            (this.timer = null),
            (this.intervalTimer = null);
        }
        return (
          l()(e, [
            {
              key: "setupWebViewJavascriptBridge",
              value: function (e) {
                if (window.WebViewJavascriptBridge)
                  return e(WebViewJavascriptBridge);
                if (window.WVJBCallbacks) return window.WVJBCallbacks.push(e);
                window.WVJBCallbacks = [e];
                var o = document.createElement("iframe");
                (o.style.display = "none"),
                  (o.src = "https://__bridge_loaded__"),
                  document.documentElement.appendChild(o),
                  setTimeout(function () {
                    document.documentElement.removeChild(o);
                  }, 0);
              },
            },
            {
              key: "registerHandler",
              value: function (e) {
                this.setupWebViewJavascriptBridge(function (o) {
                  o.registerHandler(e, function (e, o) {
                    o(e);
                  });
                });
              },
            },
            {
              key: "callHandler",
              value: function (e) {
                var o =
                    1 < arguments.length && void 0 !== arguments[1]
                      ? arguments[1]
                      : void 0,
                  t =
                    2 < arguments.length && void 0 !== arguments[2]
                      ? arguments[2]
                      : void 0;
                this.setupWebViewJavascriptBridge(function (n) {
                  n.callHandler(e, o, t);
                });
              },
            },
            {
              key: "callHandlerToApp",
              value: function (e) {
                var o =
                    1 < arguments.length && void 0 !== arguments[1]
                      ? arguments[1]
                      : {},
                  t =
                    2 < arguments.length && void 0 !== arguments[2]
                      ? arguments[2]
                      : void 0;
                console.log("".concat(e, ":").concat(JSON.stringify(o))),
                  this.isWeb && (console.log("web:".concat(e)), t && t()),
                  this.callHandler(e, JSON.stringify(o), function (o) {
                    console.log("".concat(e, ":").concat(o));
                    var n = JSON.parse(o || "{}");
                    t && t(n);
                  });
              },
            },
            {
              key: "getAppInfo",
              value: function (e) {
                var o = this,
                  t =
                    1 < arguments.length && void 0 !== arguments[1]
                      ? arguments[1]
                      : {},
                  n = 2 < arguments.length ? arguments[2] : void 0,
                  i = 3 < arguments.length ? arguments[3] : void 0,
                  r =
                    4 < arguments.length && void 0 !== arguments[4]
                      ? arguments[4]
                      : 5e3,
                  l =
                    5 < arguments.length && void 0 !== arguments[5]
                      ? arguments[5]
                      : 1e3;
                return e
                  ? ((this.timer = setTimeout(function () {
                      clearTimeout(o.timer),
                        clearInterval(o.intervalTimer),
                        i && i();
                    }, r)),
                    void (this.intervalTimer = setInterval(function () {
                      o.callHandlerToApp(e, t, function (e) {
                        clearTimeout(o.timer),
                          clearInterval(o.intervalTimer),
                          n && n(e);
                      });
                    }, l)))
                  : void (i && i());
              },
            },
            {
              key: "goBack",
              value: function () {
                var e =
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : -1;
                if (this.isWeb) console.log("web:goBack ".concat(e));
                else
                  switch (e) {
                    case 0:
                      return void (window.location.href = this.backAppUrl);
                    case 1:
                      return void (window.location.href = this.backHomeUrl);
                    case -1:
                    default:
                      return void (window.location.href = this.backUrl);
                  }
              },
            },
            {
              key: "back",
              value: function (e) {
                return this.isWeb
                  ? (console.log(
                      "web:".concat(this.backToUrl, "?url=").concat(e)
                    ),
                    void (window.location.href = e))
                  : void (window.location.href = ""
                      .concat(this.backToUrl, "?url=")
                      .concat(e));
              },
            },
            {
              key: "reload",
              value: function () {
                return this.isWeb
                  ? (console.log("web:".concat(this.reloadUrl)),
                    void window.location.reload())
                  : void (window.location.href = this.reloadUrl);
              },
            },
            {
              key: "go",
              value: function (e) {
                return this.isWeb
                  ? (console.log(
                      "web:".concat(this.goToURL, "?url=").concat(e)
                    ),
                    void (window.location.href = e))
                  : void (window.location.href = ""
                      .concat(this.goToURL, "?url=")
                      .concat(e));
              },
            },
            {
              key: "goApp",
              value: function (e) {
                return this.isWeb
                  ? void console.log("web:goApp ".concat(e))
                  : void (window.location.href = e);
              },
            },
            {
              key: "getUrlSearchValue",
              value: function (e) {
                var o = window.location.href.split("?");
                if (1 < o.length)
                  for (var t = o[1].split("&"), n = 0; n < t.length; n++) {
                    var i = t[n].split("=");
                    if (1 < i.length && e == i[0]) return i[1];
                  }
              },
            },
          ]),
          e
        );
      })();
    o.default = a;
  },
]);
